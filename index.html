<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>NEXUS VTT // ESTÁVEL</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@600&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --red: #ff4d4d; --blue: #0077ff; --bg: #0d0d0f; }
        body { margin: 0; background: #000; color: #fff; font-family: 'Rajdhani', sans-serif; display: flex; height: 100vh; overflow: hidden; }

        /* PAINEL LATERAL */
        #sidebar { width: 300px; background: var(--bg); border-right: 2px solid var(--neon); padding: 15px; z-index: 100; box-shadow: 5px 0 15px #000; }
        h1 { font-family: 'Orbitron'; font-size: 16px; color: var(--neon); margin: 0 0 20px 0; }
        
        /* VIEWPORT */
        #viewport { flex: 1; background: #1a1a1c; overflow: auto; position: relative; }
        #map-area { position: relative; display: inline-block; }
        #map-img { display: block; background: #222; min-width: 500px; min-height: 500px; }

        /* TOKENS */
        .token { position: absolute; z-index: 10; cursor: move; display: flex; flex-direction: column; align-items: center; user-select: none; }
        .tk-art { 
            width: 80px; height: 80px; border: 3px solid var(--neon); border-radius: 50%;
            background-size: cover; background-position: center; background-color: #333;
            box-shadow: 0 0 15px rgba(0,0,0,0.8);
        }
        .token.obj .tk-art { border-radius: 8px; border-color: #ffcc00; }
        .tk-name { font-family: 'Orbitron'; font-size: 11px; margin-top: 5px; text-shadow: 2px 2px #000; }
        
        .bars { width: 80px; height: 10px; margin-top: 4px; }
        .bar { height: 4px; background: #000; border: 1px solid #333; margin-bottom: 2px; border-radius: 2px; overflow: hidden; }
        .hp-fill { background: var(--red); height: 100%; width: 100%; transition: 0.3s; }
        .mp-fill { background: var(--blue); height: 100%; width: 100%; transition: 0.3s; }

        /* UI CONTROLS */
        .btn { background: #000; border: 1px solid var(--neon); color: var(--neon); padding: 8px; width: 100%; cursor: pointer; font-family: 'Orbitron'; font-size: 10px; margin-bottom: 10px; }
        .btn:hover { background: var(--neon); color: #000; }
        .config { background: #151518; padding: 10px; border-radius: 5px; border: 1px solid #333; margin-top: 15px; }
        label { font-size: 10px; color: #777; display: block; margin: 8px 0 3px 0; }
        input { width: 100%; background: #000; border: 1px solid #333; color: #fff; padding: 4px; box-sizing: border-box; }
    </style>
</head>
<body>

<div id="sidebar">
    <h1>NEXUS VTT // CORE</h1>
    
    <label>LINK DO MAPA (URL):</label>
    <input type="text" id="map-url" placeholder="Cole o link da imagem aqui..." onchange="setMap(this.value)">
    <p style="font-size: 9px; color: #555;">Ou use o botão abaixo:</p>
    <button class="btn" onclick="document.getElementById('map-file').click()">SUBIR ARQUIVO MAPA</button>
    <input type="file" id="map-file" style="display:none" onchange="fileMap(this)">

    <hr style="border: 0; border-top: 1px solid #222; margin: 15px 0;">

    <button class="btn" onclick="addTk('hero')">+ NOVO JOGADOR</button>
    <button class="btn" onclick="addTk('obj')">+ NOVO OBJETO</button>

    <div id="editor" style="display:none" class="config">
        <h2 style="font-size: 10px;
            
