<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>NEXUS VTT // ORDO REALITAS ENGINE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --red: #ff3e3e; --mana: #009dff; --bg: #050505; --panel: #0a0a0a; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Rajdhani', sans-serif; display: flex; height: 100vh; overflow: hidden; }
        
        /* Menu Lateral Estilizado */
        #side-menu { width: 350px; background: var(--panel); border-right: 2px solid #1a1a1a; display: flex; flex-direction: column; z-index: 1000; box-shadow: 5px 0 15px rgba(0,0,0,0.5); }
        .menu-inner { padding: 20px; overflow-y: auto; flex: 1; }
        h2 { font-family: 'Orbitron'; font-size: 13px; color: var(--neon); text-transform: uppercase; margin-bottom: 15px; letter-spacing: 2px; border-left: 3px solid var(--neon); padding-left: 10px; }

        /* Viewport e Mapa */
        #viewport { flex: 1; position: relative; background: #000; overflow: auto; display: flex; justify-content: center; align-items: center; cursor: crosshair; }
        #map-container { position: relative; line-height: 0; }
        #map-img { display: block; user-select: none; -webkit-user-drag: none; }

        /* TOKENS PROFISSIONAIS */
        .token { 
            position: absolute; display: flex; flex-direction: column; align-items: center; 
            z-index: 100; cursor: grab; transition: transform 0.1s; 
        }
        .token:active { cursor: grabbing; }
        .token-art { 
            width: 80px; height: 80px; border: 3px solid var(--neon); border-radius: 50%;
            background-size: cover; background-position: center; background-color: #111;
            box-shadow: 0 0 15px rgba(0,0,0,0.8); position: relative;
        }
        
        /* Estilo Objeto Interag√≠vel */
        .token.object .token-art { border-radius: 8px; border-color: #ff9d00; border-style: dashed; }
        .token.object .bars { display: none; }

        .token-label { 
            margin-top: 5px; font-family: 'Orbitron'; font-size: 10px; font-weight: bold;
            text-shadow: 2px 2px 4px #000; color: #fff; white-space: nowrap;
        }

        /* BARRAS DE STATUS */
        .bars { width: 100%; height: 10px; margin-top: 4px; pointer-events: none; }
        .bar { height: 4px; background: #222; border-radius: 2px; margin-bottom: 2px; overflow: hidden; }
        .hp-fill { background: var(--red); height: 100%; width: 100%; transition: 0.3s; }
        .mp-fill { background: var(--mana); height: 100%; width: 100%; transition: 0.3s; }

        /* INTERFACE DE CONTROLE */
        .control-group { background: #111; padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #222; }
        .btn { 
            background: transparent; border: 1px solid var(--neon); color: var(--neon); 
            padding: 8px; width: 100%; cursor: pointer; font-family: 'Orbitron'; 
            font-size: 9px; margin-bottom: 8px; transition: 0.2s; text-transform: uppercase;
        }
        .btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 10px var(--neon); }
        .btn-del { border-color: var(--red); color: var(--red); }
        .btn-del:hover { background: var(--red); color: #fff; }

        label { font-size: 11px; color: #666; display: block; margin-bottom: 5px; font-family: 'Orbitron'; }
        .input-dark { background: #000; border: 1px solid #333; color: #fff; padding: 8px; width: 100%; margin-bottom: 10px; border-radius: 4px; }
        
        /* Slider de Tamanho */
        .range-styled { width: 100%; margin: 10px 0; accent-color: var(--neon); }
    </style>
</head>
<body>

<div id="side-menu">
    <div class="menu-inner">
        <h2>Painel do Mestre</h2>
        <button class="btn" onclick="document.getElementById('map-load').click()">üñºÔ∏è Mudar Mapa</button>
        <input type="file" id="map-load" style="display:none" onchange="updateMap(this)">
        
        <div style="display:flex; gap:10px;">
            <button class="btn" onclick="spawn('hero')">üë§ Her√≥i</button>
            <button class="btn" onclick="spawn('object')">üì¶ Objeto</button>
        </div>

        <div id="edit-panel" style="display:none; margin-top:10px;">
            <h2>Configurar Sele√ß√£o</h2>
