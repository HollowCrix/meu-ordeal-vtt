<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS VTT // ORDEAL RPG</title>
    <style>
        body { background: #050b14; color: #00b4d8; font-family: sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; }
        header { padding: 10px; border-bottom: 2px solid #00b4d8; background: #0a192f; display: flex; justify-content: space-between; align-items: center; }
        .main { display: flex; flex: 1; overflow: hidden; }
        .panel { width: 160px; background: #0a192f; padding: 10px; border-right: 1px solid #00b4d8; font-size: 12px; }
        .viewport { flex: 1; background: #000; display: flex; justify-content: center; align-items: center; position: relative; }
        .log { width: 150px; background: #050b14; padding: 10px; border-left: 1px solid #00b4d8; overflow-y: auto; font-size: 11px; }
        .stat { background: #050b14; padding: 5px; border: 1px solid #0077b6; margin-bottom: 10px; }
        button { background: #0d1b2a; color: #00b4d8; border: 1px solid #00b4d8; padding: 5px; cursor: pointer; width: 100%; margin-top: 5px; font-size: 10px; }
        input[type="number"] { width: 35px; background: #0d1b2a; color: #fff; border: 1px solid #00b4d8; }
        img { max-width: 100%; max-height: 100%; object-fit: contain; }
    </style>
</head>
<body>
    <header>
        <strong>NEXUS VTT // ORDEAL</strong>
        <input type="file" id="up" accept="image/*" style="font-size: 9px; width: 120px;">
    </header>
    <div class="main">
        <div class="panel">
            <div class="stat">
                ‚ù§Ô∏è PV: <span id="pv">10</span><br>‚ú® MN: <span id="mn">0</span><br>üõ°Ô∏è DF: <span id="df">10</span>
            </div>
            <label>CORPO: <input type="number" id="c" value="0" onchange="u()"></label><br>
            <label>MENTE: <input type="number" id="m" value="0" onchange="u()"></label><br>
            <label>ALMA : <input type="number" id="a" value="0" onchange="u()"></label>
            <button onclick="r(document.getElementById('c').value, 'Ataque')">‚öîÔ∏è ATACAR</button>
            <button onclick="r(document.getElementById('a').value, 'Poder')">üî• PODER</button>
        </div>
        <div class="viewport" id="vp">
            <small id="msg" style="text-align:center">Toque no bot√£o superior para<br>escolher o mapa da galeria</small>
            <img id="img" style="display:none">
        </div>
        <div class="log" id="l"><strong>üìú LOG</strong><hr></div>
    </div>
    <script>
        function u() {
            let c = parseInt(document.getElementById('c').value) || 0;
            let a = parseInt(document.getElementById('a').value) || 0;
            // Regras do Guia: PV = Corpo+10 | Mana = Alma*2 | Defesa = 10+Corpo
            document.getElementById('pv').innerText = c + 10; 
            document.getElementById('mn').innerText = a * 2;  
            document.getElementById('df').innerText = 10 + c; 
        }
        function r(mod, n) {
            let d = Math.floor(Math.random() * 20) + 1; // Sistema d20
            let t = d + parseInt(mod || 0);
            let txt = `${t} (d20:${d})`;
            let cl = "#00b4d8";
            if (d === 20) { txt = "‚≠ê CR√çTICO! " + txt; cl = "#ffd700"; } 
            if (d === 1) { txt = "üíÄ FALHA! " + txt; cl = "#ff4d4d"; }    
            let p = document.createElement('div');
            p.style.color = cl; p.style.borderBottom = "1px solid #1a1a1a";
            p.innerText = `[${n}] ` + txt; document.getElementById('l').prepend(p);
        }
        document.getElementById('up').onchange = (e) => {
            document.getElementById('img').src = URL.createObjectURL(e.target.files[0]);
            document.getElementById('img').style.display = 'block';
            document.getElementById('msg').style.display = 'none';
        };
    </script>
</body>
</html>
